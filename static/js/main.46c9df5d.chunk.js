(this.webpackJsonployd=this.webpackJsonployd||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},69:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var a=n(6),c=n.n(a),s=n(45),o=n.n(s),i=n(51),r=(n(57),n(16)),l=(n(58),n(12)),u=n(1);function d(){return Object(u.jsx)(l.b,{to:"sign-up",children:Object(u.jsx)("button",{className:"btn",children:"Sign Up"})})}n(66),n(67);var j=n(32);n(88),n(89);j.a.initializeApp({apiKey:"AIzaSyDeM7zB4m3C_PEApoSwmsE0y_e1h1xVZBc",authDomain:"loyd-react.firebaseapp.com",databaseURL:"https://loyd-react-default-rtdb.firebaseio.com",projectId:"loyd-react",storageBucket:"loyd-react.appspot.com",messagingSenderId:"564445228436",appId:"1:564445228436:web:8a91ac08671c1a259b3381",measurementId:"G-B6SWHVVEKV"});var b=j.a,h=b.firestore().collection("pages"),m=[];h.onSnapshot((function(e){var t=[];e.forEach((function(e){var n={};n.title=e.data().Name,n.path="/institutes/"+e.id,n.cName="dropdown-link",t.push(n)})),m=t}));var f=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("ul",{onClick:function(){return c(!n)},className:n?"dropdown-menu clicked":"dropdown-menu",children:m.map((function(e,t){return Object(u.jsx)("li",{children:Object(u.jsx)(l.b,{className:e.cName,to:e.path,onClick:function(){return c(!1)},children:e.title})},t)}))})})};var O=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(r.a)(s,2),i=o[0],j=o[1],b=function(){return c(!1)};return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsx)(l.b,{to:"/",className:"navbar-logo",children:"Light On Your Dreams"}),Object(u.jsx)("div",{className:"menu-icon",onClick:function(){return c(!n)},children:Object(u.jsx)("i",{className:n?"fas fa-times":"fas fa-bars"})}),Object(u.jsxs)("ul",{className:n?"nav-menu active":"nav-menu",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(l.b,{to:"/",className:"nav-links",onClick:b,children:"Home"})}),Object(u.jsxs)("li",{className:"nav-item",onMouseEnter:function(){window.innerWidth<960?j(!1):j(!0)},onMouseLeave:function(){window.innerWidth,j(!1)},children:[Object(u.jsxs)(l.b,{to:"/services",className:"nav-links",onClick:b,children:["Institutes",Object(u.jsx)("i",{className:"fas fa-caret-down"})]}),i&&Object(u.jsx)(f,{})]}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(l.b,{to:"/contact-us",className:"nav-links",onClick:b,children:"Contact Us"})}),Object(u.jsxs)("li",{className:"nav-item",children:[Object(u.jsx)(l.b,{to:"/sign-up",className:"nav-links-mobile",onClick:b,children:"Sign Up"}),Object(u.jsx)(d,{})]})]})]})},p=n(4),v=(n(69),n(20)),g=n.n(v);function x(e){var t=e.match.params.id;console.log(t);var n=Object(a.useState)(""),c=Object(r.a)(n,2),s=c[0],o=c[1],i=Object(a.useState)(!1),l=Object(r.a)(i,2),d=l[0],j=l[1];return console.log("test4"),Object(a.useEffect)((function(){!function(){j(!0);var e=b.firestore().collection("pages");console.log("test2"),e.doc(t).onSnapshot((function(e){console.log("test3"),o(e.data().data),j(!1)}))}()}),[t]),d?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h1",{children:"Loading..."})}):(console.log("test5"),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"preview",dangerouslySetInnerHTML:{__html:g.a.sanitize(s)}})}))}function N(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("h1",{className:"home",children:"HOME"})})}var k=n(21),y=n(22),S=n(23),w=n(52),_=n(50),E=n(48),C=n(49),D=n.n(C),F=function(){function e(t){Object(k.a)(this,e),this.loader=t,this.url="URL"}return Object(y.a)(e,[{key:"upload",value:function(){var e=this;console.log("upload",this.loader);var t=b.storage().ref("image");return this.test=this.loader.file.then((function(n){return new Promise((function(a,c){console.log(n),e.uploadTask=t.child(n.name).put(n),e.uploadTask.on("state_changed",(function(t){e.loader.uploadTotal=t.totalBytes,e.loader.uploaded=t.bytesTransferred}),(function(e){console.log("ERROR")}),(function(){e.uploadTask.snapshot.ref.getDownloadURL().then((function(e){a({500:e})}))}))}))})),console.log(this.test),this.test}},{key:"abort",value:function(){this.uploadTask.cancel()}}]),e}();function R(e){console.log("test1"),e.plugins.get("FileRepository").createUploadAdapter=function(e){return console.log("test2"),new F(e)}}n(85);var I=function(e){Object(w.a)(n,e);var t=Object(_.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this)).editor=null,e.state={name_:"",data_:"Data"},e.handleFetch=e.handleFetch.bind(Object(S.a)(e)),e}return Object(y.a)(n,[{key:"setName",value:function(e){this.setState({name_:e})}},{key:"setData",value:function(e){this.setState({data_:e})}},{key:"handleFetch",value:function(e){var t=this;console.log(this.state.name_),e.preventDefault(),b.firestore().collection("pages").doc(this.state.name_).get().then((function(e){e.exists?t.setData(e.data().data):t.setData("No data")}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"Admin",children:[Object(u.jsxs)("div",{className:"form-editor",children:[Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b.firestore().collection("pages").doc(e.state.name_).set({Name:e.state.name_,data:e.state.data_}).then((function(){console.log("Success")})).catch((function(e){console.error("ERROR",e)}))},children:[Object(u.jsx)("h2",{children:"Data Adder"}),Object(u.jsx)("label",{children:"Name:"}),Object(u.jsx)("input",{type:"text",value:this.state.name_,onChange:function(t){e.setName(t.target.value)}}),Object(u.jsx)("input",{type:"submit",value:"Submit"}),Object(u.jsx)("button",{onClick:this.handleFetch,children:"Fetch from Database"}),Object(u.jsx)(E.CKEditor,{onReady:function(t){e.imgadapter=R(t),t.config._config.extraPlugins=[R],console.log("Editor is ready to use!"),console.log("hello"),t.ui.getEditableElement().parentElement.insertBefore(t.ui.view.toolbar.element,t.ui.getEditableElement()),e.editor=t},onError:function(t){t.willEditorRestart&&e.editor.ui.view.toolbar.element.remove()},onChange:function(t,n){e.setData(n.getData())},editor:D.a,data:this.state.data_})]})," "]}),Object(u.jsx)("div",{className:"preview",dangerouslySetInnerHTML:{__html:g.a.sanitize(this.state.data_)}})]})}}]),n}(a.Component);var L=function(){return Object(u.jsxs)(l.a,{children:[Object(u.jsx)(O,{}),Object(u.jsxs)(p.c,{children:[Object(u.jsx)(p.a,{path:"/",exact:!0,component:N}),Object(u.jsx)(p.a,{path:"/admin",exact:!0,component:I}),Object(u.jsx)(p.a,{path:"/institutes/:id",exact:!0,render:function(e){return Object(u.jsx)(x,Object(i.a)({},e))}})]})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,90)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};n(86);o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(L,{})}),document.getElementById("root")),T()}},[[87,1,2]]]);
//# sourceMappingURL=main.46c9df5d.chunk.js.map